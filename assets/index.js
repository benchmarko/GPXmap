(function(N){"use strict";var yt=document.createElement("style");yt.textContent=`.leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-pane>svg,.leaflet-pane>canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-tile::selection{background:transparent}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-overlay-pane svg{max-width:none!important;max-height:none!important}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer,.leaflet-container .leaflet-tile{max-width:none!important;max-height:none!important;width:auto;padding:0}.leaflet-container img.leaflet-tile{mix-blend-mode:plus-lighter}.leaflet-container.leaflet-touch-zoom{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{-ms-touch-action:pinch-zoom;touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{-ms-touch-action:none;touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;-moz-box-sizing:border-box;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-popup{opacity:0;-webkit-transition:opacity .2s linear;-moz-transition:opacity .2s linear;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}svg.leaflet-zoom-animated{will-change:transform}.leaflet-zoom-anim .leaflet-zoom-animated{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.25,1);-moz-transition:-moz-transform .25s cubic-bezier(0,0,.25,1);transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile{-webkit-transition:none;-moz-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive,svg.leaflet-image-layer.leaflet-interactive path{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline-offset:1px}.leaflet-container a{color:#0078a8}.leaflet-zoom-box{border:2px dotted #38f;background:#ffffff80}.leaflet-container{font-family:Helvetica Neue,Arial,Helvetica,sans-serif;font-size:12px;font-size:.75rem;line-height:1.5}.leaflet-bar{box-shadow:0 1px 5px #000000a6;border-radius:4px}.leaflet-bar a{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover,.leaflet-bar a:focus{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{box-shadow:0 1px 5px #0006;background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII=);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;overflow-x:hidden;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block;font-size:13px;font-size:1.08333em}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=)}.leaflet-container .leaflet-control-attribution{background:#fff;background:#fffc;margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333;line-height:1.4}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover,.leaflet-control-attribution a:focus{text-decoration:underline}.leaflet-attribution-flag{display:inline!important;vertical-align:baseline!important;width:1em;height:.6669em}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;white-space:nowrap;-moz-box-sizing:border-box;box-sizing:border-box;background:#fffc;text-shadow:1px 1px #fff}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 24px 13px 20px;line-height:1.3;font-size:13px;font-size:1.08333em;min-height:1px}.leaflet-popup-content p{margin:1.3em 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-top:-1px;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;pointer-events:auto;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:#fff;color:#333;box-shadow:0 3px 14px #0006}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;border:none;text-align:center;width:24px;height:24px;font:16px/24px Tahoma,Verdana,sans-serif;color:#757575;text-decoration:none;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover,.leaflet-container a.leaflet-popup-close-button:focus{color:#585858}.leaflet-popup-scrolled{overflow:auto}.leaflet-oldie .leaflet-popup-content-wrapper{-ms-zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678,M12=.70710678,M21=-.70710678,M22=.70710678)}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px #0006}.leaflet-tooltip.leaflet-interactive{cursor:pointer;pointer-events:auto}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}@media print{.leaflet-control{-webkit-print-color-adjust:exact;print-color-adjust:exact}}.leaflet-cluster-anim .leaflet-marker-icon,.leaflet-cluster-anim .leaflet-marker-shadow{-webkit-transition:-webkit-transform .3s ease-out,opacity .3s ease-in;-moz-transition:-moz-transform .3s ease-out,opacity .3s ease-in;-o-transition:-o-transform .3s ease-out,opacity .3s ease-in;transition:transform .3s ease-out,opacity .3s ease-in}.leaflet-cluster-spider-leg{-webkit-transition:-webkit-stroke-dashoffset .3s ease-out,-webkit-stroke-opacity .3s ease-in;-moz-transition:-moz-stroke-dashoffset .3s ease-out,-moz-stroke-opacity .3s ease-in;-o-transition:-o-stroke-dashoffset .3s ease-out,-o-stroke-opacity .3s ease-in;transition:stroke-dashoffset .3s ease-out,stroke-opacity .3s ease-in}.marker-cluster-small{background-color:#b5e28c99}.marker-cluster-small div{background-color:#6ecc3999}.marker-cluster-medium{background-color:#f1d35799}.marker-cluster-medium div{background-color:#f0c20c99}.marker-cluster-large{background-color:#fd9c7399}.marker-cluster-large div{background-color:#f1801799}.leaflet-oldie .marker-cluster-small{background-color:#b5e28c}.leaflet-oldie .marker-cluster-small div{background-color:#6ecc39}.leaflet-oldie .marker-cluster-medium{background-color:#f1d357}.leaflet-oldie .marker-cluster-medium div{background-color:#f0c20c}.leaflet-oldie .marker-cluster-large{background-color:#fd9c73}.leaflet-oldie .marker-cluster-large div{background-color:#f18017}.marker-cluster{background-clip:padding-box;border-radius:20px}.marker-cluster div{width:30px;height:30px;margin-left:5px;margin-top:5px;text-align:center;border-radius:15px;font:12px Helvetica Neue,Arial,Helvetica,sans-serif}.marker-cluster span{line-height:30px}body{font-family:system-ui,sans-serif;margin:1em;padding:0;background:#f8f9fa;min-width:320px;line-height:1.5}#app{max-width:800px;background:#fff;border-radius:8px;box-shadow:0 2px 8px #00000012;padding:1.5em}#map{width:100%;height:500px;border-radius:6px;box-shadow:0 1px 4px #00000014;margin-top:1em;resize:vertical}#waypointInfo{margin:1em 0 0;width:100%;height:200px;overflow:auto;border:1px solid #ccc;border-radius:6px;background:#fafafa;resize:vertical}.smallFont{font-size:80%}.checkbox-group label{display:inline-flex;align-items:center;gap:.3em}@media only screen and (max-width:700px){body{margin:0}#app{padding:1em}}
/*$vite$:1*/`,document.head.appendChild(yt);var Y={exports:{}},Wt=Y.exports,vt;function Ht(){return vt||(vt=1,(function(l,o){(function(r,h){h(o)})(Wt,function(r){var h=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation),this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this.fire("layeradd",{layer:t}),this;if(!this._map)return this._needsClustering.push(t),this.fire("layeradd",{layer:t}),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this.fire("layeradd",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var e=t,i=this._zoom;if(t.__parent)for(;e.__parent._zoom>=i;)e=e.__parent;return this._currentShownBounds.contains(e.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,e):this._animationAddLayerNonAnimated(t,e)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this.fire("layerremove",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire("layerremove",{layer:t}),this):(this._nonPointGroup.removeLayer(t),this.fire("layerremove",{layer:t}),this)},addLayers:function(t,e){if(!L.Util.isArray(t))return this.addLayer(t);var i=this._featureGroup,n=this._nonPointGroup,s=this.options.chunkedLoading,a=this.options.chunkInterval,u=this.options.chunkProgress,c=t.length,f=0,_=!0,m;if(this._map){var p=new Date().getTime(),g=L.bind(function(){var v=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();f<c;f++){if(s&&f%200===0){var M=new Date().getTime()-v;if(M>a)break}if(m=t[f],m instanceof L.LayerGroup){_&&(t=t.slice(),_=!1),this._extractNonGroupLayers(m,t),c=t.length;continue}if(!m.getLatLng){n.addLayer(m),e||this.fire("layeradd",{layer:m});continue}if(!this.hasLayer(m)&&(this._addLayer(m,this._maxZoom),e||this.fire("layeradd",{layer:m}),m.__parent&&m.__parent.getChildCount()===2)){var E=m.__parent.getAllChildMarkers(),O=E[0]===m?E[1]:E[0];i.removeLayer(O)}}u&&u(f,c,new Date().getTime()-p),f===c?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(g,this.options.chunkDelay)},this);g()}else for(var y=this._needsClustering;f<c;f++){if(m=t[f],m instanceof L.LayerGroup){_&&(t=t.slice(),_=!1),this._extractNonGroupLayers(m,t),c=t.length;continue}if(!m.getLatLng){n.addLayer(m);continue}this.hasLayer(m)||y.push(m)}return this},removeLayers:function(t){var e,i,n=t.length,s=this._featureGroup,a=this._nonPointGroup,u=!0;if(!this._map){for(e=0;e<n;e++){if(i=t[e],i instanceof L.LayerGroup){u&&(t=t.slice(),u=!1),this._extractNonGroupLayers(i,t),n=t.length;continue}this._arraySplice(this._needsClustering,i),a.removeLayer(i),this.hasLayer(i)&&this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i})}return this}if(this._unspiderfy){this._unspiderfy();var c=t.slice(),f=n;for(e=0;e<f;e++){if(i=c[e],i instanceof L.LayerGroup){this._extractNonGroupLayers(i,c),f=c.length;continue}this._unspiderfyLayer(i)}}for(e=0;e<n;e++){if(i=t[e],i instanceof L.LayerGroup){u&&(t=t.slice(),u=!1),this._extractNonGroupLayers(i,t),n=t.length;continue}if(!i.__parent){a.removeLayer(i),this.fire("layerremove",{layer:i});continue}this._removeLayer(i,!0,!0),this.fire("layerremove",{layer:i}),s.hasLayer(i)&&(s.removeLayer(i),i.clusterShow&&i.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var i=this._needsClustering.slice(),n=this._needsRemoving,s,a,u;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(i),a=i.length-1;a>=0;a--){for(s=!0,u=n.length-1;u>=0;u--)if(n[u].layer===i[a]){s=!1;break}s&&t.call(e,i[a])}this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(t){var e=null;return t=parseInt(t,10),this.eachLayer(function(i){L.stamp(i)===t&&(e=i)}),e},hasLayer:function(t){if(!t)return!1;var e,i=this._needsClustering;for(e=i.length-1;e>=0;e--)if(i[e]===t)return!0;for(i=this._needsRemoving,e=i.length-1;e>=0;e--)if(i[e].layer===t)return!1;return!!(t.__parent&&t.__parent._group===this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){var i=this._map;typeof e!="function"&&(e=function(){});var n=function(){(i.hasLayer(t)||i.hasLayer(t.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",n,this),this.off("animationend",n,this),i.hasLayer(t)?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",n,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",n,this),this.on("animationend",n,this),t.__parent.zoomToBounds())},onAdd:function(t){this._map=t;var e,i,n;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,i=this._needsRemoving.length;e<i;e++)n=this._needsRemoving[e],n.newlatlng=n.layer._latlng,n.layer._latlng=n.latlng;for(e=0,i=this._needsRemoving.length;e<i;e++)n=this._needsRemoving[e],this._removeLayer(n.layer,!0),n.layer._latlng=n.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),i=this._needsClustering,this._needsClustering=[],this.addLayers(i,!0)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var i=t.length-1;i>=0;i--)if(t[i]===e)return t.splice(i,1),!0},_removeFromGridUnclustered:function(t,e){for(var i=this._map,n=this._gridUnclustered,s=Math.floor(this._map.getMinZoom());e>=s&&n[e].removeObject(t,i.project(t.getLatLng(),e));e--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){if(!this._ignoreMove&&!t.target.__dragStart){var e=t.target._popup&&t.target._popup.isOpen();this._moveChild(t.target,t.oldLatLng,t.latlng),e&&t.target.openPopup()}},_moveChild:function(t,e,i){t._latlng=e,this.removeLayer(t),t._latlng=i,this.addLayer(t)},_childMarkerDragEnd:function(t){var e=t.target.__dragStart;delete t.target.__dragStart,e&&this._moveChild(t.target,e,t.target._latlng)},_removeLayer:function(t,e,i){var n=this._gridClusters,s=this._gridUnclustered,a=this._featureGroup,u=this._map,c=Math.floor(this._map.getMinZoom());e&&this._removeFromGridUnclustered(t,this._maxZoom);var f=t.__parent,_=f._markers,m;for(this._arraySplice(_,t);f&&(f._childCount--,f._boundsNeedUpdate=!0,!(f._zoom<c));)e&&f._childCount<=1?(m=f._markers[0]===t?f._markers[1]:f._markers[0],n[f._zoom].removeObject(f,u.project(f._cLatLng,f._zoom)),s[f._zoom].addObject(m,u.project(m.getLatLng(),f._zoom)),this._arraySplice(f.__parent._childClusters,f),f.__parent._markers.push(m),m.__parent=f.__parent,f._icon&&(a.removeLayer(f),i||a.addLayer(m))):f._iconNeedsUpdate=!0,f=f.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,i){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,e,i)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),i=" marker-cluster-";return e<10?i+="small":e<100?i+="medium":i+="large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+i,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,s=this.options.spiderfyOnEveryZoom;(e||n||s)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),i&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){var e=t.layer,i=e;if(!(t.type==="clusterkeypress"&&t.originalEvent&&t.originalEvent.keyCode!==13)){for(;i._childClusters.length===1;)i=i._childClusters[0];i._zoom===this._maxZoom&&i._childCount===e._childCount&&this.options.spiderfyOnMaxZoom?e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),this.options.spiderfyOnEveryZoom&&e.spiderfy(),t.originalEvent&&t.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,n=this.options.spiderfyOnEveryZoom,s=this._map;(t||i||n)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),s.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=Math.ceil(this._map.getMaxZoom()),e=Math.floor(this._map.getMinZoom()),i=this.options.maxClusterRadius,n=i;typeof i!="function"&&(n=function(){return i}),this.options.disableClusteringAtZoom!==null&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var s=t;s>=e;s--)this._gridClusters[s]=new L.DistanceGrid(n(s)),this._gridUnclustered[s]=new L.DistanceGrid(n(s));this._topClusterLevel=new this._markerCluster(this,e-1)},_addLayer:function(t,e){var i=this._gridClusters,n=this._gridUnclustered,s=Math.floor(this._map.getMinZoom()),a,u;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);e>=s;e--){a=this._map.project(t.getLatLng(),e);var c=i[e].getNearObject(a);if(c){c._addChild(t),t.__parent=c;return}if(c=n[e].getNearObject(a),c){var f=c.__parent;f&&this._removeLayer(c,!1);var _=new this._markerCluster(this,e,c,t);i[e].addObject(_,this._map.project(_._cLatLng,e)),c.__parent=_,t.__parent=_;var m=_;for(u=e-1;u>f._zoom;u--)m=new this._markerCluster(this,u,m),i[u].addObject(m,this._map.project(c.getLatLng(),u));f._addChild(m),this._removeFromGridUnclustered(c,e);return}n[e].addObject(t,a)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()})},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(t){var e=this._maxLat;return e!==void 0&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(e._childCount===2){e._addToMap();var i=e.getAllChildMarkers();this._featureGroup.removeLayer(i[0]),this._featureGroup.removeLayer(i[1])}else e._updateIcon()},_extractNonGroupLayers:function(t,e){var i=t.getLayers(),n=0,s;for(e=e||[];n<i.length;n++){if(s=i[n],s instanceof L.LayerGroup){this._extractNonGroupLayers(s,e);continue}e.push(s)}return e},_overrideMarkerIcon:function(t){var e=t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}});return e}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(t,e){var i=this._getExpandedVisibleBounds(),n=this._featureGroup,s=Math.floor(this._map.getMinZoom()),a;this._ignoreMove=!0,this._topClusterLevel._recursively(i,t,s,function(u){var c=u._latlng,f=u._markers,_;for(i.contains(c)||(c=null),u._isSingleParent()&&t+1===e?(n.removeLayer(u),u._recursivelyAddChildrenToMap(null,e,i)):(u.clusterHide(),u._recursivelyAddChildrenToMap(c,e,i)),a=f.length-1;a>=0;a--)_=f[a],i.contains(_._latlng)||n.removeLayer(_)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(i,e),n.eachLayer(function(u){!(u instanceof L.MarkerCluster)&&u._icon&&u.clusterShow()}),this._topClusterLevel._recursively(i,t,e,function(u){u._recursivelyRestoreChildPositions(e)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(i,t,s,function(u){n.removeLayer(u),u.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var i=this,n=this._featureGroup;n.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue(function(){n.removeLayer(t),t.clusterShow(),i._animationEnd()})):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(e,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(t,e,i){var n=this._getExpandedVisibleBounds(),s=Math.floor(this._map.getMinZoom());t._recursivelyAnimateChildrenInAndAddSelfToMap(n,s,e+1,i);var a=this;this._forceLayout(),t._recursivelyBecomeVisible(n,i),this._enqueue(function(){if(t._childCount===1){var u=t._markers[0];this._ignoreMove=!0,u.setLatLng(u.getLatLng()),this._ignoreMove=!1,u.clusterShow&&u.clusterShow()}else t._recursively(n,i,s,function(c){c._recursivelyRemoveChildrenFromMap(n,s,e+1)});a._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)};var d=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(t,e,i,n){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this,pane:t.options.clusterPane}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,i&&this._addChild(i),n&&this._addChild(n)},getAllChildMarkers:function(t,e){t=t||[];for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i].getAllChildMarkers(t,e);for(var n=this._markers.length-1;n>=0;n--)e&&this._markers[n].__dragStart||t.push(this._markers[n]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(t){for(var e=this._childClusters.slice(),i=this._group._map,n=i.getBoundsZoom(this._bounds),s=this._zoom+1,a=i.getZoom(),u;e.length>0&&n>s;){s++;var c=[];for(u=0;u<e.length;u++)c=c.concat(e[u]._childClusters);e=c}n>s?this._group._map.setView(this._latlng,s):n<=a?this._group._map.setView(this._latlng,a+1):this._group._map.fitBounds(this._bounds,t)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t=this._markers,e=this._childClusters,i=0,n=0,s=this._childCount,a,u,c,f;if(s!==0){for(this._resetBounds(),a=0;a<t.length;a++)c=t[a]._latlng,this._bounds.extend(c),i+=c.lat,n+=c.lng;for(a=0;a<e.length;a++)u=e[a],u._boundsNeedUpdate&&u._recalculateBounds(),this._bounds.extend(u._bounds),c=u._wLatLng,f=u._childCount,i+=c.lat*f,n+=c.lng*f;this._latlng=this._wLatLng=new L.LatLng(i/s,n/s),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,i){this._recursively(t,this._group._map.getMinZoom(),i-1,function(n){var s=n._markers,a,u;for(a=s.length-1;a>=0;a--)u=s[a],u._icon&&(u._setPos(e),u.clusterHide())},function(n){var s=n._childClusters,a,u;for(a=s.length-1;a>=0;a--)u=s[a],u._icon&&(u._setPos(e),u.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,i,n){this._recursively(t,n,e,function(s){s._recursivelyAnimateChildrenIn(t,s._group._map.latLngToLayerPoint(s.getLatLng()).round(),i),s._isSingleParent()&&i-1===n?(s.clusterShow(),s._recursivelyRemoveChildrenFromMap(t,e,i)):s.clusterHide(),s._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,this._group._map.getMinZoom(),e,null,function(i){i.clusterShow()})},_recursivelyAddChildrenToMap:function(t,e,i){this._recursively(i,this._group._map.getMinZoom()-1,e,function(n){if(e!==n._zoom)for(var s=n._markers.length-1;s>=0;s--){var a=n._markers[s];i.contains(a._latlng)&&(t&&(a._backupLatlng=a.getLatLng(),a.setLatLng(t),a.clusterHide&&a.clusterHide()),n._group._featureGroup.addLayer(a))}},function(n){n._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var i=this._markers[e];i._backupLatlng&&(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}if(t-1===this._zoom)for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n]._restorePosition();else for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,i,n){var s,a;this._recursively(t,e-1,i-1,function(u){for(a=u._markers.length-1;a>=0;a--)s=u._markers[a],(!n||!n.contains(s._latlng))&&(u._group._featureGroup.removeLayer(s),s.clusterShow&&s.clusterShow())},function(u){for(a=u._childClusters.length-1;a>=0;a--)s=u._childClusters[a],(!n||!n.contains(s._latlng))&&(u._group._featureGroup.removeLayer(s),s.clusterShow&&s.clusterShow())})},_recursively:function(t,e,i,n,s){var a=this._childClusters,u=this._zoom,c,f;if(e<=u&&(n&&n(this),s&&u===i&&s(this)),u<e||u<i)for(c=a.length-1;c>=0;c--)f=a[c],f._boundsNeedUpdate&&f._recalculateBounds(),t.intersects(f._bounds)&&f._recursively(t,e,i,n,s)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var t=this.options.opacity;return this.setOpacity(0),this.options.opacity=t,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var i=this._getCoord(e.x),n=this._getCoord(e.y),s=this._grid,a=s[n]=s[n]||{},u=a[i]=a[i]||[],c=L.Util.stamp(t);this._objectPoint[c]=e,u.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var i=this._getCoord(e.x),n=this._getCoord(e.y),s=this._grid,a=s[n]=s[n]||{},u=a[i]=a[i]||[],c,f;for(delete this._objectPoint[L.Util.stamp(t)],c=0,f=u.length;c<f;c++)if(u[c]===t)return u.splice(c,1),f===1&&delete a[i],!0},eachObject:function(t,e){var i,n,s,a,u,c,f,_=this._grid;for(i in _){u=_[i];for(n in u)for(c=u[n],s=0,a=c.length;s<a;s++)f=t.call(e,c[s]),f&&(s--,a--)}},getNearObject:function(t){var e=this._getCoord(t.x),i=this._getCoord(t.y),n,s,a,u,c,f,_,m,p=this._objectPoint,g=this._sqCellSize,y=null;for(n=i-1;n<=i+1;n++)if(u=this._grid[n],u){for(s=e-1;s<=e+1;s++)if(c=u[s],c)for(a=0,f=c.length;a<f;a++)_=c[a],m=this._sqDist(p[L.Util.stamp(_)],t),(m<g||m<=g&&y===null)&&(g=m,y=_)}return y},_getCoord:function(t){var e=Math.floor(t/this._cellSize);return isFinite(e)?e:t},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}},(function(){L.QuickHull={getDistant:function(t,e){var i=e[1].lat-e[0].lat,n=e[0].lng-e[1].lng;return n*(t.lat-e[0].lat)+i*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var i=0,n=null,s=[],a,u,c;for(a=e.length-1;a>=0;a--){if(u=e[a],c=this.getDistant(u,t),c>0)s.push(u);else continue;c>i&&(i=c,n=u)}return{maxPoint:n,newPoints:s}},buildConvexHull:function(t,e){var i=[],n=this.findMostDistantPointFromBaseLine(t,e);return n.maxPoint?(i=i.concat(this.buildConvexHull([t[0],n.maxPoint],n.newPoints)),i=i.concat(this.buildConvexHull([n.maxPoint,t[1]],n.newPoints)),i):[t[0]]},getConvexHull:function(t){var e=!1,i=!1,n=!1,s=!1,a=null,u=null,c=null,f=null,_=null,m=null,p;for(p=t.length-1;p>=0;p--){var g=t[p];(e===!1||g.lat>e)&&(a=g,e=g.lat),(i===!1||g.lat<i)&&(u=g,i=g.lat),(n===!1||g.lng>n)&&(c=g,n=g.lng),(s===!1||g.lng<s)&&(f=g,s=g.lng)}i!==e?(m=u,_=a):(m=f,_=c);var y=[].concat(this.buildConvexHull([m,_],t),this.buildConvexHull([_,m],t));return y}}})(),L.MarkerCluster.include({getConvexHull:function(){var t=this.getAllChildMarkers(),e=[],i,n;for(n=t.length-1;n>=0;n--)i=t[n].getLatLng(),e.push(i);return L.QuickHull.getConvexHull(e)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var t=this.getAllChildMarkers(null,!0),e=this._group,i=e._map,n=i.latLngToLayerPoint(this._latlng),s;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?s=this._group.options.spiderfyShapePositions(t.length,n):t.length>=this._circleSpiralSwitchover?s=this._generatePointsSpiral(t.length,n):(n.y+=10,s=this._generatePointsCircle(t.length,n)),this._animationSpiderfy(t,s)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var i=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t),n=i/this._2PI,s=this._2PI/t,a=[],u,c;for(n=Math.max(n,35),a.length=t,u=0;u<t;u++)c=this._circleStartAngle+u*s,a[u]=new L.Point(e.x+n*Math.cos(c),e.y+n*Math.sin(c))._round();return a},_generatePointsSpiral:function(t,e){var i=this._group.options.spiderfyDistanceMultiplier,n=i*this._spiralLengthStart,s=i*this._spiralFootSeparation,a=i*this._spiralLengthFactor*this._2PI,u=0,c=[],f;for(c.length=t,f=t;f>=0;f--)f<t&&(c[f]=new L.Point(e.x+n*Math.cos(u),e.y+n*Math.sin(u))._round()),u+=s/n+f*5e-4,n+=a/u;return c},_noanimationUnspiderfy:function(){var t=this._group,e=t._map,i=t._featureGroup,n=this.getAllChildMarkers(null,!0),s,a;for(t._ignoreMove=!0,this.setOpacity(1),a=n.length-1;a>=0;a--)s=n[a],i.removeLayer(s),s._preSpiderfyLatlng&&(s.setLatLng(s._preSpiderfyLatlng),delete s._preSpiderfyLatlng),s.setZIndexOffset&&s.setZIndexOffset(0),s._spiderLeg&&(e.removeLayer(s._spiderLeg),delete s._spiderLeg);t.fire("unspiderfied",{cluster:this,markers:n}),t._ignoreMove=!1,t._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var i=this._group,n=i._map,s=i._featureGroup,a=this._group.options.spiderLegPolylineOptions,u,c,f,_;for(i._ignoreMove=!0,u=0;u<t.length;u++)_=n.layerPointToLatLng(e[u]),c=t[u],f=new L.Polyline([this._latlng,_],a),n.addLayer(f),c._spiderLeg=f,c._preSpiderfyLatlng=c._latlng,c.setLatLng(_),c.setZIndexOffset&&c.setZIndexOffset(1e6),s.addLayer(c);this.setOpacity(.3),i._ignoreMove=!1,i.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var i=this,n=this._group,s=n._map,a=n._featureGroup,u=this._latlng,c=s.latLngToLayerPoint(u),f=L.Path.SVG,_=L.extend({},this._group.options.spiderLegPolylineOptions),m=_.opacity,p,g,y,v,M,E;for(m===void 0&&(m=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),f?(_.opacity=0,_.className=(_.className||"")+" leaflet-cluster-spider-leg"):_.opacity=m,n._ignoreMove=!0,p=0;p<t.length;p++)g=t[p],E=s.layerPointToLatLng(e[p]),y=new L.Polyline([u,E],_),s.addLayer(y),g._spiderLeg=y,f&&(v=y._path,M=v.getTotalLength()+.1,v.style.strokeDasharray=M,v.style.strokeDashoffset=M),g.setZIndexOffset&&g.setZIndexOffset(1e6),g.clusterHide&&g.clusterHide(),a.addLayer(g),g._setPos&&g._setPos(c);for(n._forceLayout(),n._animationStart(),p=t.length-1;p>=0;p--)E=s.layerPointToLatLng(e[p]),g=t[p],g._preSpiderfyLatlng=g._latlng,g.setLatLng(E),g.clusterShow&&g.clusterShow(),f&&(y=g._spiderLeg,v=y._path,v.style.strokeDashoffset=0,y.setStyle({opacity:m}));this.setOpacity(.3),n._ignoreMove=!1,setTimeout(function(){n._animationEnd(),n.fire("spiderfied",{cluster:i,markers:t})},200)},_animationUnspiderfy:function(t){var e=this,i=this._group,n=i._map,s=i._featureGroup,a=t?n._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):n.latLngToLayerPoint(this._latlng),u=this.getAllChildMarkers(null,!0),c=L.Path.SVG,f,_,m,p,g,y;for(i._ignoreMove=!0,i._animationStart(),this.setOpacity(1),_=u.length-1;_>=0;_--)f=u[_],f._preSpiderfyLatlng&&(f.closePopup(),f.setLatLng(f._preSpiderfyLatlng),delete f._preSpiderfyLatlng,y=!0,f._setPos&&(f._setPos(a),y=!1),f.clusterHide&&(f.clusterHide(),y=!1),y&&s.removeLayer(f),c&&(m=f._spiderLeg,p=m._path,g=p.getTotalLength()+.1,p.style.strokeDashoffset=g,m.setStyle({opacity:0})));i._ignoreMove=!1,setTimeout(function(){var v=0;for(_=u.length-1;_>=0;_--)f=u[_],f._spiderLeg&&v++;for(_=u.length-1;_>=0;_--)f=u[_],f._spiderLeg&&(f.clusterShow&&f.clusterShow(),f.setZIndexOffset&&f.setZIndexOffset(0),v>1&&s.removeLayer(f),n.removeLayer(f._spiderLeg),delete f._spiderLeg);i._animationEnd(),i.fire("unspiderfied",{cluster:e,markers:u})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,i;for(e in t)for(i=t[e].__parent;i;)i._iconNeedsUpdate=!0,i=i.__parent},_refreshSingleMarkerModeMarkers:function(t){var e,i;for(e in t)i=t[e],this.hasLayer(i)&&i.setIcon(this._overrideMarkerIcon(i))}}),L.Marker.include({refreshIconOptions:function(t,e){var i=this.options.icon;return L.setOptions(i,t),this.setIcon(i),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),r.MarkerClusterGroup=h,r.MarkerCluster=d,Object.defineProperty(r,"__esModule",{value:!0})})})(Y,Y.exports)),Y.exports}Ht();const T={strNumFormat(l,o,r=" "){let h=String(l);for(let d=h.length;d<o;d+=1)h=r+h;return h},strZeroFormat(l,o){return T.strNumFormat(l,o,"0")}};class C{lat;lng;comment;format;error;constructor(o,r){this.lat=0,this.lng=0,o!==void 0&&r!==void 0&&this.init(o,r)}init(o,r){this.setLatLng(o,r)}static toRadians(o){return o*Math.PI/180}static toDegrees(o){return o*180/Math.PI}clone(){const o=new C(this.lat,this.lng);return this.comment!==void 0&&o.setComment(this.comment),this.error!==void 0&&o.setError(this.error),this.format!==void 0&&o.setFormat(this.format),o}getLat(){return this.lat}getLng(){return this.lng}setLatLng(o,r){return this.lat=Number(o),this.lng=Number(r),this}getComment(){return this.comment??""}setComment(o){return this.comment=o,this}getFormat(){return this.format}setFormat(o){return this.format=o,this}getError(){return this.error}setError(o){return this.error=o,this}toString(){return[this.lat,this.lng,this.comment,this.format,this.error].join(",")}distanceTo(o){const h=C.toRadians(this.lat),d=C.toRadians(this.lng),t=C.toRadians(o.lat),e=C.toRadians(o.lng),i=t-h,n=e-d,s=Math.sin(i/2)*Math.sin(i/2)+Math.cos(h)*Math.cos(t)*Math.sin(n/2)*Math.sin(n/2);return 6371e3*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))}bearingTo(o){const r=C.toRadians(this.lat),h=C.toRadians(o.lat),d=C.toRadians(o.lng-this.lng),t=Math.sin(d)*Math.cos(h),e=Math.cos(r)*Math.sin(h)-Math.sin(r)*Math.cos(h)*Math.cos(d),i=Math.atan2(t,e);return(C.toDegrees(i)+360)%360}destinationPoint(o,r){const d=Number(o)/6371e3,t=C.toRadians(Number(r)),e=C.toRadians(this.lat),i=C.toRadians(this.lng),n=Math.sin(e),s=Math.cos(e),a=Math.sin(d),u=Math.cos(d),c=Math.sin(t),f=Math.cos(t),_=n*u+s*a*f,m=Math.asin(_),p=c*a*s,g=u-n*_,y=i+Math.atan2(p,g);return new C(C.toDegrees(m),(C.toDegrees(y)+540)%360-180)}intersection(o,r,h,d){const t=C.toRadians(o.lat),e=C.toRadians(o.lng),i=C.toRadians(h.lat),n=C.toRadians(h.lng),s=C.toRadians(Number(r)),a=C.toRadians(Number(d)),u=i-t,c=n-e,f=2*Math.asin(Math.sqrt(Math.sin(u/2)*Math.sin(u/2)+Math.cos(t)*Math.cos(i)*Math.sin(c/2)*Math.sin(c/2)));if(f===0)return new C(0,0).setError("intersection distance=0");const _=(Math.sin(i)-Math.sin(t)*Math.cos(f))/(Math.sin(f)*Math.cos(t)),m=(Math.sin(t)-Math.sin(i)*Math.cos(f))/(Math.sin(f)*Math.cos(i)),p=Math.acos(Math.min(Math.max(_,-1),1)),g=Math.acos(Math.min(Math.max(m,-1),1)),y=Math.sin(n-e)>0?p:2*Math.PI-p,v=Math.sin(n-e)>0?2*Math.PI-g:g,M=(s-y+Math.PI)%(2*Math.PI)-Math.PI,E=(v-a+Math.PI)%(2*Math.PI)-Math.PI;if(Math.sin(M)===0&&Math.sin(E)===0)return new C(0,0).setError("infinite intersections");if(Math.sin(M)*Math.sin(E)<0)return new C(0,0).setError("ambiguous intersection");const O=Math.acos(-Math.cos(M)*Math.cos(E)+Math.sin(M)*Math.sin(E)*Math.cos(f)),b=Math.atan2(Math.sin(f)*Math.sin(M)*Math.sin(E),Math.cos(E)+Math.cos(M)*Math.cos(O)),k=Math.asin(Math.sin(t)*Math.cos(b)+Math.cos(t)*Math.sin(b)*Math.cos(s)),w=Math.atan2(Math.sin(s)*Math.sin(b)*Math.cos(t),Math.cos(b)-Math.sin(t)*Math.sin(k)),I=e+w;return new C(C.toDegrees(k),(C.toDegrees(I)+540)%360-180)}parse(o){let r=0,h=0,d="";function t(){const a=o.match(/^\s*(N|S)\s*(\d+)\s*[ ]\s*(\d+\.\d+)\s*(E|W)\s*(\d+)\s*[ ]\s*(\d+\.\d+)/);return a&&a.length===7?(r=parseInt(a[2],10)+parseFloat(a[3])/60,h=parseInt(a[5],10)+parseFloat(a[6])/60,a[1]==="S"&&(r=-r),a[4]==="W"&&(h=-h),d="dmm",!0):!1}function e(){const a=o.match(/^\s*(N|S)\s*(\d+)\s*[ ]\s*(\d+)\s*'\s*(\d+\.?\d*)\s*"\s*(E|W)\s*(\d+)\s*[ ]\s*(\d+)\s*'\s*(\d+\.?\d*)\s*"/);return a&&a.length===9?(r=parseInt(a[2],10)+parseFloat(a[3])/60+parseFloat(a[4])/3600,h=parseInt(a[6],10)+parseFloat(a[7])/60+parseFloat(a[8])/3600,a[1]==="S"&&(r=-r),a[5]==="W"&&(h=-h),d="dms",!0):!1}function i(){const a=o.match(/^\s*(N|S)\s*(\d+\.\d+)\s*[ ]\s*(E|W)\s*(\d+\.\d+)\s*?/);return a&&a.length===5?(r=parseFloat(a[2]),h=parseFloat(a[4]),a[1]==="S"&&(r=-r),a[3]==="W"&&(h=-h),d="dd",!0):!1}const n=o.indexOf("!");n>=0?(this.comment=o.substr(n+1),o=o.substr(0,n)):this.comment!==void 0&&delete this.comment;const s=t()||e()||i();return this.lat=r,this.lng=h,d&&(this.format=d+(this.comment?"c":"")),delete this.error,!s&&o!==""&&(this.error="Cannot parse "+o,console.warn("parse2position: Cannot parse '"+o+"'")),this}toFixed(o){return this.lat=Number(Number(this.lat).toFixed(o)),this.lng=Number(Number(this.lng).toFixed(o)),this}toFormattedString(o){let r,h;function d(i){const n=Math.abs(i.lat),s=Math.abs(i.lng),a=i.lat>=0?"N":"S",u=i.lng>=0?"E":"W",c=Math.floor(n),f=(n-c)*60,_=Math.floor(s),m=(s-_)*60;return a+" "+T.strZeroFormat(c,2)+" "+T.strZeroFormat(f.toFixed(3),6)+" "+u+" "+T.strZeroFormat(_,3)+" "+T.strZeroFormat(m.toFixed(3),6)}function t(i){const n=Math.abs(i.lat),s=Math.abs(i.lng),a=i.lat>=0?"N":"S",u=i.lng>=0?"E":"W",c=Math.floor(n),f=Math.floor((n-c)*60),_=Math.round((n-c-f/60)*1e3*3600)/1e3,m=Math.floor(s),p=Math.floor((s-m)*60),g=Math.floor((s-m-p/60)*1e3*3600)/1e3;return a+" "+T.strZeroFormat(c,2)+" "+T.strZeroFormat(f,2)+"' "+T.strZeroFormat(_.toFixed(2),5)+'" '+u+" "+T.strZeroFormat(m,3)+" "+T.strZeroFormat(p,2)+"' "+T.strZeroFormat(g.toFixed(2),5)+'"'}function e(i){let n=i.lat,s=i.lng;const a=n>=0?"N":"S",u=s>=0?"E":"W";return a==="S"&&(n=-n),u==="W"&&(s=-s),a+" "+T.strZeroFormat(n.toFixed(5),8)+" "+u+" "+T.strZeroFormat(s.toFixed(5),9)+""}switch(o=o||this.format||"dmm",o.charAt(o.length-1)==="c"&&(o=o.substr(0,o.length-1),h=this.getComment()),o){case"dmm":r=d(this);break;case"dms":r=t(this);break;case"dd":r=e(this);break;default:r="",console.warn("position2string: Unknown format: "+o)}return h&&(r+="!"+h),r}}const bt="_concat abs acos asin atan bearing cb center cls cos count cp ct d2r deg distance encode format goto ic instr int lc len mid mod pc project r2d rad replace reverse rot13 show skeleton sin sqrt sval tan uc val".split(" "),wt="endif if stop then".split(" "),Lt=[...bt,...wt].reduce((l,o)=>(l[o]=!0,l),{}),X=l=>l*Math.PI/180,tt=l=>l*180/Math.PI,st=(l,o)=>{l=String(l);for(let r=l.length;r<o;r+=1)l="0"+l;return l},jt=(l,o)=>{if(o.indexOf(".")<0)l=Number(l).toFixed(0),l=st(l,o.length);else{const r=o.split(".",2);l=Number(l).toFixed(r[1].length),l=st(l,o.length)}return l},Vt=l=>l.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&");class S{options;constructor(o){this.options=o||{}}static ErrorObject=class extends Error{value;pos;constructor(o,r,h){super(`${o}: ${r} (pos: ${h})`),this.value=r,this.pos=h,this.name="ScriptParserError"}};lex(o){const r=b=>/[#]/.test(b),h=b=>/[+\-*/^%=<>()[\],;]/.test(b),d=b=>/[0-9]/.test(b),t=b=>/\s/.test(b),e=b=>/["]/.test(b),i=b=>b!==""&&!e(b),n=b=>/[']/.test(b),s=b=>b!==""&&!n(b),a=b=>b!==""&&/[$\w]/.test(b),u=b=>/[:]/.test(b),c=b=>b!==""&&/[0#.]/.test(b),f=b=>b!==""&&b!==`
`,_=[];let m,p,g,y=0;const v=()=>(y+=1,o.charAt(y)),M=b=>{let k="";do k+=p,p=v();while(b(p));return k},E=b=>{let k="";do p==="\\"&&(p=v(),p==="n"&&(p=`
`)),k+=p,p=v();while(b(p));return k},O=(b,k,w)=>{_.push({type:b,value:k,pos:w})};for(;y<o.length;)if(g=y,p=o.charAt(y),t(p))p=v();else if(r(p))M(f);else if(h(p)){let b=p;const k=o.charAt(y+1);((p==="<"||p===">")&&k==="="||p==="<"&&k===">")&&(b+=k,v()),O(b,"",g),p=v()}else if(d(p)){m=M(d),p==="."&&(m+=M(d));const b=parseFloat(m);if(!isFinite(b))throw new S.ErrorObject("Number is too large or too small",m,g);O("number",m,g)}else if(e(p)){if(p="",m=E(i),O("string",m,g+1),!e(p))throw new S.ErrorObject("Unterminated string",m,g+1);p=v()}else if(n(p)){if(p="",m=M(s),O("string",m,g+1),!n(p))throw new S.ErrorObject("Unterminated string",m,g+1);p=v()}else if(a(p))m=M(a),Lt[m.toLowerCase()]?O(m.toLowerCase(),"",g):O("identifier",m,g);else if(u(p)){if(p="",m=M(c),O("formatter",m,g),!u(p))throw new S.ErrorObject("Unterminated formatter",m,g+1);p=v()}else throw new S.ErrorObject("Unrecognized token",p,g);return O("(end)","",y),_}parse(o){const r={};let h=0;const d=[],t=p=>p,e=(p,g,y,v)=>{let M=r[p];M||(r[p]={},M=r[p]),g&&(M.nud=g),y&&(M.lbp=y),v&&(M.led=v)},i=p=>{if(!p)throw new S.ErrorObject("No token","",0);return p},n=()=>i(o[h]),s=()=>(h+=1,n()),a=p=>{let g=n(),y=r[g.type];if(s(),!y.nud)throw g.type==="(end)"?new S.ErrorObject("Unexpected end of file","",g.pos):new S.ErrorObject("Unexpected token (nud)",g.type,g.pos);let v=y.nud(g);for(g=n(),y=r[g.type];p<(y.lbp||0);){if(g=n(),s(),!y.led)throw new S.ErrorObject("Unexpected token",g.type,o[h].pos);v=y.led(v),g=n(),y=r[g.type]}return v},u=(p,g,y,v)=>{y=y||g,e(p,void 0,g,v||function(M){return{type:p,left:M,right:a(y)}})},c=(p,g)=>{e(p,()=>({type:p,right:a(g)}))};e(","),e(")"),e("]"),e("(end)"),e(";"),e("number",t),e("string",t),e("identifier",p=>p);function f(p){if(n().type==="("){const g=h,y=[];if(o[h+1].type===")")s();else{do s(),y.push(a(2));while(n().type===",");if(n().type!==")")throw new S.ErrorObject("Expected closing parenthesis for function",String(o[g-1].type),o[g].pos)}return s(),{type:p.type,args:y,name:"",value:"",pos:o[g-1].pos}}return p}function _(){for(const p of bt)e(p,f);for(const p of wt)e(p,f)}_(),e("(",()=>{const p=h,g=a(2);if(n().type!==")")throw new S.ErrorObject("Expected closing parenthesis",")",o[p].pos);return s(),g}),e("[",function(){let p=n(),g;if(p.type==="(end)")throw new S.ErrorObject("Unexpected end of file","",p.pos);if(o[h+1].type==="]")g=a(2);else{const y=h,v=[];do v.push(a(2)),p=n();while(p.type!=="]"&&p.type!=="(end)");if(p.type!=="]")throw new S.ErrorObject("Expected closing bracket","]",o[y].pos);g={type:"_concat",args:v,name:"",value:"",pos:o[y-1].pos}}return s(),g});let m=!1;for(e("if",()=>{m=!0;const p=a(0);if(m=!1,n().type!=="then")throw new S.ErrorObject("Expected THEN","",n().pos);s();const g=[];for(;n().type!=="endif"&&n().type!=="(end)";)g.push(a(0)),n().type===";"&&s();if(n().type!=="endif")throw new S.ErrorObject("Expected ENDIF","",n().pos);return s(),{type:"if",left:p,args:g,pos:p.pos,value:""}}),e("formatter",void 0,3,p=>{const g=o[h-1];return{type:"formatter",value:g.value,left:p,pos:g.pos}}),c("-",8),u("^",7,6),u("*",5),u("/",5),u("%",5),u("+",4),u("-",4),u("<",4),u(">",4),u("<=",4),u(">=",4),u("<>",4),u("=",3,2,p=>{let g;return p.type==="identifier"&&!m?g={type:"assign",name:p.value,value:"",right:a(0),pos:p.pos}:g={type:"=",left:p,right:a(2),value:"",pos:p.pos},g});n().type!=="(end)";)d.push(a(0));return d}evaluate(o,r,h){const d=this,t={"+":(c,f)=>Number(c)+Number(f),"-":(c,f)=>f===null?-Number(c):Number(c)-Number(f),"*":(c,f)=>Number(c)*Number(f),"/":(c,f)=>Number(c)/Number(f),"%":(c,f)=>Number(c)%Number(f),"^":(c,f)=>Math.pow(Number(c),Number(f)),"=":(c,f)=>String(c)===String(f),"<>":(c,f)=>String(c)!==String(f),"<":(c,f)=>String(c)<String(f),">":(c,f)=>String(c)>String(f),"<=":(c,f)=>String(c)<=String(f),">=":(c,f)=>String(c)>=String(f)},e=h,i=[],n=(c,f,_)=>{const m=e[c];if(m.length!==f.length){const p=e[`${c}_optionalArgs`]?.();if(p){if(p===Number.POSITIVE_INFINITY)return;const g=m.length-Number(p);if(f.length>=g&&f.length<=m.length)return}throw console.warn("WARN: oFunction=",String(m)),new S.ErrorObject(`Wrong number of arguments (${m.length}, ${f.length}) for function`,c,_)}},s=c=>d.options.ignoreFuncCase?c.toLowerCase():c,a=c=>d.options.ignoreVarCase?c.toLowerCase():c,u=c=>{let f,_;if(c.type==="string")f=c.value;else if(c.type==="number")f=parseFloat(c.value);else if(t[c.type])c.left?f=t[c.type](u(c.left),u(c.right)):f=t[c.type](u(c.right),null);else if(c.type==="identifier")_=a(c.value),f=r.get(_),f===void 0&&(console.log(`Variable is undefined: ${c.value} (pos ${c.pos})`),f="");else if(c.type==="assign"){if(f=u(c.right),_=a(c.name),f===null)throw new S.ErrorObject("value is null",_,c.pos);r.set(_,f),String(parseFloat(String(f)))!==String(f)&&(f='"'+f+'"'),f=c.name+"="+f}else if(c.type==="if")if(u(c.left)){const p=[];for(const g of c.args){const y=u(g);y===null?g.type==="cls"?(i.length=0,p.length=0):g.type:y!==""&&p.push(String(y))}f=p.join(`
`)}else f="";else if(c.type==="stop")f=null;else if(Lt[c.type]){const m=[];for(let p=0;p<c.args.length;p+=1)m[p]=u(c.args[p]);if(_=s(c.type),e[_]===void 0)throw new S.ErrorObject("Function is undefined",_,c.pos);n(_,m,c.pos),f=e[_].apply(c,m)}else c.type==="formatter"?(f=u(c.left),f=jt(String(f),c.value)):(console.error("parseNode node=%o unknown type="+c.type,c),f=String(c));return f};for(let c=0;c<o.length;c+=1){const f=o[c],_=u(f);_===null?f.type==="cls"?i.length=0:f.type==="stop"&&(c=o.length):_!==""&&i.push(String(_))}return i.join(`
`)}calculate(o,r){const h=this,d={_concat_optionalArgs:()=>Number.POSITIVE_INFINITY,_concat:(...n)=>n.join(""),abs:n=>Math.abs(n),acos:n=>tt(Math.acos(n)),asin:n=>tt(Math.asin(n)),atan:n=>tt(Math.atan(n)),bearing:function(n,s){const a=new C().parse(n),u=new C().parse(s);return a.bearingTo(u)},cb:function(n,s,a,u){const c=new C().parse(n),f=new C().parse(a),_=C.prototype.intersection(c,s,f,u),m=_.getError();let p=_.toFormattedString();return m&&(p+="!error!"+m),p},center:()=>(console.log("center() ignored."),""),cls:()=>null,cos:n=>Math.cos(X(n)),count:function(n,s){let a="";if(n=String(n),s=String(s),s.length===1)return d.countStr(n,s);const u=s.split("");for(let c=0;c<u.length;c+=1){const f=u[c];a+=" "+f+"="+d.countStr(n,f)}return a.trim()},countStr:function(n,s){return(String(n).match(new RegExp(s,"g"))||[]).length},ct:function(n){const s=String(n).replace(/[^\d]/g,"");let a=0;for(let u=0;u<s.length;u+=1)a+=Number(s.charAt(u));return a},d2r:n=>X(n),deg:()=>(console.log("deg() ignored."),""),distance:function(n,s){const a=new C().parse(n),u=new C().parse(s);return a.distanceTo(u)},encode:function(n,s,a){const u=new RegExp("["+s+"]","g");return n.replace(u,function(c){return a.charAt(s.indexOf(c))})},format:function(n,s){const u=new C().parse(n).toFormattedString(s);if(!u)throw new S.ErrorObject("Unknown format",s,-1);return u},goto:n=>(console.log(`goto ${n}: ignored.`),""),ic_optionalArgs:()=>1,ic:function(n){return typeof n>"u"?!!h.options.ignoreVarCase:(h.options.ignoreVarCase=!!n,"")},instr_optionalArgs:()=>1,instr:function(n,s,a){return String(n).indexOf(s,a?a-1:0)+1},int:Math.trunc,lc:n=>String(n).toLowerCase(),len:n=>String(n).length,mid_optionalArgs:()=>1,mid:function(n,s,a){return typeof a>"u"?String(n).substring(s-1):String(n).substring(s-1,s-1+a)},mod:function(n,s){return n%s},pc:()=>(console.warn("pc ignored."),""),project:function(n,s,a){return new C().parse(n).destinationPoint(a,s).toFormattedString()},r2d:n=>tt(n),rad:()=>(console.warn("rad ignored."),""),replace:function(n,s,a){const u=Vt(s),c=new RegExp(u,"g");return String(n).replace(c,a)},reverse:function(n){return String(n).split("").reverse().join("")},rot13:function(n){return String(n).replace(/[A-Za-z]/g,function(s){return String.fromCharCode(s.charCodeAt(0)+(s.toUpperCase()<="M"?13:-13))})},show:()=>(console.warn("show ignored."),""),sin:n=>Math.sin(X(n)),skeleton:()=>(console.warn("skeleton ignored."),""),sqrt:Math.sqrt,sval:function(n){let a="";n=String(n).toLowerCase().replace(/[^a-z]/g,"");for(let u=0;u<n.length;u+=1)a+=(u>0?" ":"")+st(String(n.charCodeAt(u)-96),2);return a},tan:n=>Math.tan(X(n)),uc:n=>String(n).toUpperCase(),val:function(n){let a=0;n=String(n).toLowerCase();for(let u=0;u<n.length;u+=1){let c=n.charCodeAt(u)-96;(c<0||c>26)&&(c=0),a+=c}return a}},t=this.lex(o),e=this.parse(t);return this.evaluate(e,r,d)}}class B{static createCrcTable(){const o=new Uint32Array(256);for(let r=0;r<256;r+=1){let h=r;for(let d=0;d<8;d+=1)h=h&1?3988292384^h>>>1:h>>>1;o[r]=h>>>0}return o}static crcTable=void 0;static crc32(o,r){const h=B.crcTable||(B.crcTable=B.createCrcTable());return(o>>>8^h[(o^r)&255])>>>0}static updateKeys(o,r){o[0]=B.crc32(o[0],r),o[1]=o[1]+(o[0]&255)>>>0,o[1]=(Math.imul(o[1],134775813)>>>0)+1>>>0,o[2]=B.crc32(o[2],o[1]>>>24&255)}static initKeys(o){const r=[305419896,591751049,878082192];for(let h=0;h<o.length;h+=1)B.updateKeys(r,o.charCodeAt(h));return r}static decryptByte(o,r){const h=(o[2]|2)>>>0,d=r^Math.imul(h,h^1)>>>8&255;return B.updateKeys(o,d),d}static isEncrypted(o){return o.flag&1}static decrypt(o,r,h){const d=B.initKeys(h),t=new Uint8Array(12);for(let n=0;n<12;n+=1){const s=B.decryptByte(d,o[n]);t[n]=s}let e;if((r.flag&8)!==0?e=r.modificationTime>>8&255:e=r.crc>>24&255,t[11]!==e)throw new Error("ZipCrypto: The password did not match.");const i=new Uint8Array(o.length-12);for(let n=12;n<o.length;n+=1){const s=B.decryptByte(d,o[n]);i[n-12]=s}return i}}const W={eocdSignature:101010256,cdfhSignature:33639248,lfhSignature:67324752,eocdLen:22,cdfhLen:46,lfhLen:30};function qt(l){let r="",h=l.length,d=0;for(;h>0;){const t=Math.min(h,25e3),e=l.subarray(d,d+t);r+=String.fromCharCode.apply(null,e),d+=t,h-=t}return r}class x{options;data;entryTable={};static textDecoder=typeof TextDecoder<"u"?new TextDecoder("utf-8",{fatal:!1}):{decode:qt};constructor(o){this.options={},this.setOptions(o,!0)}getOptions(){return this.options}setOptions(o,r){const h=this.options.data;Object.assign(this.options,o),(r||this.options.data!==h)&&(this.data=this.options.data,this.entryTable=this.readZipDirectory())}getZipDirectory(){return this.entryTable}static convertUint8ArrayToUtf8(o){return x.textDecoder.decode(o)}static getUint16(o,r){return o[r+1]<<8|o[r]}static getUint32(o,r){return o[r+3]<<24|o[r+2]<<16|o[r+1]<<8|o[r]}readAsUTF8(o,r){const h=this.data.subarray(o,o+r);return x.convertUint8ArrayToUtf8(h)}readEocd(o){const r=this.data;return{signature:x.getUint32(r,o),entries:x.getUint16(r,o+10),cdfhOffset:x.getUint32(r,o+16),cdSize:x.getUint32(r,o+20)}}readCdfh(o){const r=this.data;return{signature:x.getUint32(r,o),version:x.getUint16(r,o+6),flag:x.getUint16(r,o+8),compressionMethod:x.getUint16(r,o+10),modificationTime:x.getUint16(r,o+12),crc:x.getUint32(r,o+16),compressedSize:x.getUint32(r,o+20),size:x.getUint32(r,o+24),fileNameLength:x.getUint16(r,o+28),extraFieldLength:x.getUint16(r,o+30),fileCommentLength:x.getUint16(r,o+32),localOffset:x.getUint32(r,o+42),name:"",isDirectory:!1,extra:[],comment:"",timestamp:0,dataStart:0}}readZipDirectory(){const r=this.data,h={};let d=r.length-W.eocdLen+1,t;const e=Math.max(0,d-65535);for(;d>=e&&(d-=1,!(x.getUint32(r,d)===W.eocdSignature&&(t=this.readEocd(d),x.getUint32(r,t.cdfhOffset)===W.cdfhSignature))););if(!t)throw new Error(`Zip: File ended abruptly: EOCD not found at pos ${d>=0?d:0}`);const i=t.entries;let n=t.cdfhOffset;for(d=0;d<i;d+=1){const s=this.readCdfh(n);if(s.signature!==W.cdfhSignature)throw new Error(`Zip: Bad CDFH signatureat pos ${n}`);if(!s.fileNameLength)throw new Error(`Zip Entry name missing at pos ${n}`);if(n+=W.cdfhLen,s.name=this.readAsUTF8(n,s.fileNameLength),n+=s.fileNameLength,s.isDirectory=s.name.charAt(s.name.length-1)==="/",s.extra=this.data.subarray(n,n+s.extraFieldLength),n+=s.extraFieldLength,s.comment=this.readAsUTF8(n,s.fileCommentLength),n+=s.fileCommentLength,(s.flag&64)===64)throw new Error("Zip: Strong encryption not suppoered.");if((s.flag&8192)===8192)throw new Error("Zip: Strong directory encryption not suppoered.");const a=s.modificationTime;s.timestamp=new Date((a>>25&127)+1980,(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(a&31)<<1).getTime(),x.getUint32(r,s.localOffset)!==W.lfhSignature&&console.error("Zip: readZipDirectory: LFH signature not found at offset",s.localOffset);const u=x.getUint16(r,s.localOffset+28);s.dataStart=s.localOffset+W.lfhLen+s.name.length+u,h[s.name]=s}return h}static fnInflateConstruct(o,r,h){let d;for(d=0;d<=15;d+=1)o.count[d]=0;for(d=0;d<h;d+=1)o.count[r[d]]+=1;if(o.count[0]===h)return 0;let t=1;for(d=1;d<=15;d+=1)if((t=(t<<1)-o.count[d])<0)return t;const e=[void 0,0];for(d=1;d<15;d+=1)e[d+1]=e[d]+o.count[d];for(d=0;d<h;d+=1)r[d]!==0&&(o.symbol[e[r[d]]]=d,e[r[d]]+=1);return t}static fnConstructFixedHuffman(o,r,h){let d;for(d=0;d<144;d+=1)o[d]=8;for(;d<256;d+=1)o[d]=9;for(;d<280;d+=1)o[d]=7;for(;d<288;d+=1)o[d]=8;for(x.fnInflateConstruct(r,o,288),d=0;d<30;d+=1)o[d]=5;x.fnInflateConstruct(h,o,30)}inflate(o,r,h,d){const t=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],e=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],i=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],n=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],a=r+h,u=new Uint8Array(d);let c=r,f=0,_=0,m=0,p,g,y;const v=function(w){let I=m;for(;_<w;){if(c===a)throw new Error("Zip: inflate: Data overflow");I|=o[c]<<_,c+=1,_+=8}return m=I>>w,_-=w,I&(1<<w)-1},M=function(w){let I=0,Z=0,P=0;for(let $=1;$<=15;$+=1){I|=v(1);const Q=w.count[$];if(I<Z+Q)return w.symbol[P+(I-Z)];P+=Q,Z+=Q,Z<<=1,I<<=1}return null},E=function(){if(m=0,_=0,c+4>a)throw new Error(`Zip: inflate: Data overflow at pos ${c}`);let w=x.getUint16(o,c);if(c+=2,o[c]!==(~w&255)||o[c+1]!==(~w>>8&255))throw new Error(`Zip: inflate: Bad length at pos ${c}`);if(c+=2,c+w>a)throw new Error(`Zip: inflate: Data overflow at pos ${c}`);for(;w;)u[f]=o[c],f+=1,c+=1,w-=1},O=function(){const w=v(5)+257,I=v(5)+1,Z=v(4)+4;if(w>286||I>30)throw new Error("Zip: inflate: length/distance code overflow");let P;for(P=0;P<Z;P+=1)y[s[P]]=v(3);for(;P<19;P+=1)y[s[P]]=0;if(x.fnInflateConstruct(g,y,19)!==0)throw new Error("Zip: inflate: length codes incomplete");for(P=0;P<w+I;){let G=M(g);if(G<16)y[P]=G,P+=1;else{let Zt=0;if(G===16){if(P===0)throw new Error("Zip: inflate: repeat lengths with no first length");Zt=y[P-1],G=3+v(2)}else G===17?G=3+v(3):G=11+v(7);if(P+G>w+I)throw new Error("Zip: inflate: more lengths than specified");for(;G;)y[P]=Zt,G-=1,P+=1}}const $=x.fnInflateConstruct(g,y,w),Q=x.fnInflateConstruct(p,y.slice(w),I);if($<0||$>0&&w-g.count[0]!==1||Q<0||Q>0&&I-p.count[0]!==1)throw new Error("Zip: inflate: bad literal or length codes")},b=function(){let w;do if(w=M(g),w<256&&(u[f]=w,f+=1),w>256){if(w-=257,w>28)throw new Error("Zip: inflate: Invalid length/distance");let I=t[w]+v(e[w]);w=M(p);const Z=i[w]+v(n[w]);if(Z>f)throw new Error("Zip: inflate: distance out of range");for(;I;)u[f]=u[f-Z],I-=1,f+=1}while(w!==256)};let k;do{k=v(1);const w=v(2);switch(w){case 0:E();break;case 1:case 2:g={count:[],symbol:[]},p={count:[],symbol:[]},y=[],w===1?x.fnConstructFixedHuffman(y,g,p):O(),b();break;default:throw new Error(`Zip: inflate: unsupported compression type ${w}`)}}while(!k);return u}readBinaryData(o,r){const h=this.data,d=this.entryTable[o];if(!d)throw new Error(`Zip: readBinaryData: File does not exist: ${o}`);const t=B.isEncrypted(d);console.log(`Zip: Extracting ${o}: compressedSize=${d.compressedSize} size=${d.size} compressionMethod=${d.compressionMethod} encrypted=${t}`);let e=h.subarray(d.dataStart,d.dataStart+d.compressedSize);if(t){if(!r)throw new Error("Zip: Password required");e=B.decrypt(e,d,r)}if(d.compressionMethod!==0)if(d.compressionMethod===8)e=this.inflate(e,0,d.compressedSize,d.size);else throw new Error(`Zip: readBinaryData: compression method not supported ${d.compressionMethod}`);return e}static isProbablyZipFile(o){if(o.length<4)return!1;const r=W.lfhSignature,h=0;return(o[h+3]<<24|o[h+2]<<16|o[h+1]<<8|o[h])===r}}const Ct={debug:0,file:"",keepView:!1,search:"",showLocation:!1},z={...Ct},F={},A=N.map("map"),H=N.markerClusterGroup(),j=N.popup(),U=N.featureGroup(),V=N.popup(),at=[];function xt(l,o){window.setTimeout(l,o)}function lt(l){Object.keys(l).forEach(o=>delete l[o])}function $t(l,o){let r;return h=>{clearTimeout(r),r=window.setTimeout(()=>l(h),o)}}function Qt(){return Ct}function Yt(){return z}function Mt(l,o){const r=window.document.getElementById(l);r.checked!==o&&(r.checked=o,r.dispatchEvent(new Event("change")))}function ct(l,o){const r=Yt(),h=Qt();l in r||console.error("updateConfigParameter: Unknown key:",l),r[l]=o;const d=new URL(window.location.href);r[l]!==h[l]?d.searchParams.set(l,String(o)):d.searchParams.delete(l),history.pushState({},"",d.href)}function D(l,o){const r=window.document.getElementById(l);r.disabled=o}function kt(l,o,r,h){let d;return at.length>0?(d=at.pop(),d.setLatLng([l,o]),d.setIcon(r)):d=N.marker([l,o],{icon:r}),d.waypointName=h,d}function ut(l){l.eachLayer(o=>{o instanceof N.Marker&&at.push(o)}),l.clearLayers()}const St={"Geocache|Earthcache":"brown","Geocache|Event Cache":"fireBrick","Geocache|Letterbox Hybrid":"yellow","Geocache|Multi-cache":"orange","Geocache|Traditional Cache":"green","Geocache|Unknown Cache":"CornFlowerBlue","Geocache|Webcam Cache":"DarkTurquoise","Waypoint|Parking Area":"gray","Waypoint|Physical Stage":"gray","Waypoint|Reference Point":"gray","Waypoint|Trailhead":"gray","Waypoint|Virtual Stage":"lightblue",Location:"transparent",Solver:"transparent",Default:"gray"},ft={};function ht(l){const o=St[l]||St.Default;if(!ft[o]){const r=l==="Location"?22:18;ft[l]=N.divIcon({className:"custom-cache-icon",html:`<svg width="${r}" height="${r}" stroke="black" stroke-width="1">
            <circle cx="${r/2}" cy="${r/2}" r="${r/2-1}" fill="${o}" />
            <line x1="${r*.27}" y1="${r*.27}" x2="${r*.73}" y2="${r*.73}" />
            <line x1="${r*.73}" y1="${r*.27}" x2="${r*.27}" y2="${r*.73}" />
            </svg>`,iconSize:[r,r],iconAnchor:[r/2,r/2],popupAnchor:[0,-r/2]})}return ft[l]}function Et(l,o){A.hasLayer(H)&&(ut(H),A.removeLayer(H)),l.length>0&&(l.forEach(r=>{const h=kt(r.lat,r.lon,ht(r.type),r.name);H.addLayer(h)}),H.addTo(A),o||A.fitBounds(H.getBounds().pad(.5)))}const K=N.featureGroup();function Kt(l){const o=K.getLayers();if(o.length)o[0].setLatLngs(l);else{const r={color:"blue",weight:2,opacity:.7};new N.Polyline(l,r).addTo(K)}}function Jt(l){K.clearLayers();const o=[];for(let r=0;r<l.length;r+=1){const h=l[r],d=new N.LatLng(h.lat,h.lon);o.push(d)}Kt(o)}const J={};function Xt(l){A.hasLayer(U)&&(ut(U),A.removeLayer(U)),lt(J),l.length>0&&(l.forEach(o=>{const r=kt(o.lat,o.lon,ht(o.type),o.name);U.addLayer(r),J[o.name]=o}),U.addTo(A))}function et(l){const o=l.trim().toLowerCase(),r=document.getElementById("keepViewInput"),h=Object.values(F),d=document.getElementById("waypointCount");if(!o){Et(h,r.checked),d.innerText=String(h.length);return}const t=h.filter(e=>e.name.toLowerCase().includes(o)||e.desc.toLowerCase().includes(o)||e.cacheInfo.toLowerCase().includes(o));Et(t,r.checked),d.innerText=`${t.length} / ${h.length}`}function It(l,o,r){const h=l.lastIndexOf(o);if(h<0)return l;const d=o.length,t=r?1:d;return[l.substring(0,h).trim(),l.substring(h+t).trim()].join(`<br>
`)}function nt(l,o){const r=Math.abs(l),h=Math.abs(o),d=l>=0?"N":"S",t=o>=0?"E":"W",e=Math.floor(r),i=(r-e)*60,n=Math.floor(h),s=(h-n)*60;return d+" "+String(e).padStart(2,"0")+" "+i.toFixed(3).padStart(6,"0")+" "+t+" "+String(n).padStart(3,"0")+" "+s.toFixed(3).padStart(6,"0")}const dt=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"];function Pt(l){return dt[Math.round(l/(360/dt.length))%dt.length]}function At(l){return l>1e3?(l/1e3).toFixed(3)+" km":l.toFixed(2)+" m"}function te(l,o){const r=a=>a*Math.PI/180,h=a=>a*180/Math.PI,d=r(l.lat),t=r(o.lat),e=r(o.lng-l.lng),i=Math.sin(e)*Math.cos(t),n=Math.cos(d)*Math.sin(t)-Math.sin(d)*Math.cos(t)*Math.cos(e),s=Math.atan2(i,n);return(h(s)+360)%360}function Ot(l){const o=q.getLatLng(),r=o.lat===0&&o.lng===0,h=N.latLng(l.lat,l.lon),d=r?-1:h.distanceTo(o),t=r?-1:te(o,h);return{distance:d,bearing:t}}function ot(l,o){let r="";l.cacheInfo?r=`${Nt(l.cacheInfo)}
${o}`:l.type==="Solver"&&R&&(r=`<hr>${j.getContent()}`);const h=l.type!=="Solver"?`<button id="popupSetFilter" title="Set Search Filter" data-name="${l.name}">Filter</button>`:"",d=nt(l.lat,l.lon),t=It(It(l.desc," by ",!0),",",!1),e=t?`<span>${t}</span><br>`:"",{distance:i,bearing:n}=Ot(l),s=i>=0?`<span style="color: darkmagenta;">${At(i)} ${Pt(n)} (${n.toFixed(0)})</span><br>`:"",a=l.name,u=8,c=": <span><small>"+l.desc.substring(0,u)+(l.desc.length>u?"":"")+"</small></span>",f=a.startsWith("GC")?`&nbsp;<a href="https://coord.info/${a}" target="_blank">${a}</a>`:"";return`<small>${s}${d}</small><details><summary><strong>${a}</strong>${c}</summary><div style="max-height:120px;overflow:auto;">${e}${r}</div>${h}${f}</details>`}function ee(l){const o=window.localStorage.getItem(l);if(o)try{const r=JSON.parse(o);if(l!==r.name){console.warn("getWaypointFromLocalStorage: Key",l,"does not match name ",r.name);return}return{name:r.name||"",lat:Number(r.lat)||0,lon:Number(r.lon)||0,type:r.type||"",desc:r.desc||"",cacheInfo:r.cacheInfo||"",solverCode:r.solverCode||"",solverCodeEdited:r.solverCodeEdited}}catch(r){console.warn("getWaypointFromLocalStorage: Cannot parse data for key ",l,String(r))}}function it(l){const o=F[l];return o?o.solverCodeEdited||o.solverCode:""}function ne(l,o){window.localStorage.setItem(l,JSON.stringify(o))}function oe(l){window.localStorage.removeItem(l)}function ie(){for(let l=0;l<window.localStorage.length;l++){const o=window.localStorage.key(l);if(o&&o.startsWith("GC")){const r=ee(o);r&&(F[o]=r)}}}function pt(l){return l?`<details><summary>Solver</summary><div class="gc_solver">${l.replace(/\n/g,`<br>
`)}<br></div></details>`:""}function re(l){return l?`<details><summary>Solver Result</summary><div>${l.replace(/\n/g,`<br>
`)}<br></div></details>`:""}function Nt(l){return l?`<details><summary>Cache Info</summary><div>${l}<br></div></details>`:""}function se(l,o){const{distance:r,bearing:h}=Ot(l),d=r>=0?`Distance: <span style="color: darkmagenta;">${At(r)} ${Pt(h)} (${h.toFixed(0)})</span><br>`:"",t=l.name,e=t.startsWith("GC")?`<a href="https://coord.info/${t}" target="_blank">${t}</a>`:t,i=nt(l.lat,l.lon),n=Nt(l.cacheInfo);return`${e}<br>${l.desc}<br>${i}<br>${d}<br>${n}${o}`}function Tt(){return document.getElementById("waypointInfo").innerHTML}function rt(l){const o=document.getElementById("waypointInfo");o.innerHTML=l}function ae(l,o){l.includes("")&&console.warn("strange '-' found: ''.");const r={vars:{},get:h=>{let d=o[h];if(d===void 0&&h.startsWith("$")){const t=h.substring(1),e=F[t];e&&(d=nt(e.lat,e.lon))}return d},set:(h,d)=>{o[h]=d}};try{const h=new S().calculate(l,r);return z.debug>1&&console.debug("DEBUG: parseSolverCode: ",h,o),String(h)}catch(h){const d=String(h);return console.error(d),`<span style="color: red">Error: ${d}</span><br>
`}}function le(l){return l.map(r=>{const[h,d]=r,t=new C().parse(String(d)),[e,i=""]=t.getComment().split("!",2);return{name:h,lat:t.getLat(),lon:t.getLng(),type:"Solver",desc:i,status:e,cacheInfo:"",solverCode:""}})}let R;function gt(l){R=l;const o=F[l.waypointName];D("editButton",!1),D("saveButton",!0),D("cancelButton",!0);const r=it(o.name),h=pt(r),d=se(o,h);j.setLatLng(l.getLatLng());let t="";if(r){const e={},i=ae(r,e);t=re(i);const n=Object.entries(e).filter(([a])=>a.startsWith("$")),s=le(n);Xt(s),Jt(s)}rt(d+t)}function ce(l){const o=J[l.waypointName];if(!o){console.error("selectSolverMarker: data not found for marker ",l.waypointName),V.setLatLng(l.getLatLng()).setContent(`<strong>${l.waypointName}</strong><br><span style="color: red">Data not found!</span>`);return}const r=ot(o,"");V.setLatLng(l.getLatLng()).setContent(r)}function Bt(){A.hasLayer(U)&&(ut(U),A.removeLayer(U),K.clearLayers())}function ue(l){Bt();const o=l.propagatedFrom;gt(o)}function fe(l){const o=l.propagatedFrom;ce(o)}function mt(l,o){const r=[],h=new x({data:l});let d="";const t=h.getZipDirectory(),e=Object.keys(t);console.log(`processZipFile: ${o}: with ${e.length} entries`);for(let i=0;i<e.length;i+=1){const n=e[i];if(t[n].isDirectory)console.log(`processZipFile: Ignoring directory: ${n}`);else if(n.startsWith("__MACOSX/"))console.log(`processZipFile: Ignoring file: ${n}`);else{t[n].flag&1&&!d&&(d=prompt(`Password for ${n.split("/").pop()}:`)||"");try{const s=h.readBinaryData(n,d);if(s)if(n.endsWith(".zip")||x.isProbablyZipFile(s)){console.log(`File ${n} is a ZIP file, processing recursively.`);const a=mt(s,n);r.push(...a)}else{const a=x.convertUint8ArrayToUtf8(s),u=zt(a,n);r.push(u)}}catch(s){const a=s instanceof Error?s.message:String(s);console.error(`File ${n}:`,a),r.push(`<span style="color: red">File ${n}: ${a}</span><br>
`)}}}return r}function zt(l,o){const r=new DOMParser;l.includes("\v")&&(l=l.replaceAll("\v"," "),console.warn(`File ${o}: Special VT character(s) removed.`));const h=r.parseFromString(l,"application/xml"),d=h.querySelector("parsererror");if(d)throw new Error(`Error parsing ${o}: ${d.textContent}`);let t=0;const e=Array.from(h.getElementsByTagName("wpt"));for(const n of e){const s=parseFloat(n.getAttribute("lat")||"0"),a=parseFloat(n.getAttribute("lon")||"0"),u=n.getElementsByTagName("name")[0]?.textContent||"Waypoint",c=n.getElementsByTagName("desc")[0]?.textContent||"",f=n.getElementsByTagName("type")[0]?.textContent||"",_=n.getElementsByTagName("groundspeak:cache")[0];let m="",p="";if(_){const g=(_.getAttribute("archived")||"").toLowerCase()==="true",y=(_.getAttribute("available")||"").toLowerCase()==="true",v=_.getElementsByTagName("groundspeak:name")[0]?.textContent||"",M=_.getElementsByTagName("groundspeak:type")[0]?.textContent||"",E=_.getElementsByTagName("groundspeak:container")[0]?.textContent||"",O=_.getElementsByTagName("groundspeak:long_description")[0]?.textContent||"",b=_.getElementsByTagName("groundspeak:encoded_hints")[0]?.textContent||"";m=`- Cache Name: ${v}<br>
- Type: ${M}<br>
- Container: ${E}<br>
- Archived: ${g}<br>
- Available: ${y}<br>
- Hints: ${b}<br>
- Description:<br>
${O}`;const k=m.match(/<details><summary>Solver<\/summary><div class="gc_solver">(.+?)<\/div><\/details>/s);if(k&&k[1]){p=k[1].replace(/<br\/?>(\n)?/g,`
`).trim();const w=k.index||-1;w>=0&&(m=m.substring(0,w))}}u in F&&(t+=1),F[u]={name:u,lat:s,lon:a,type:f,desc:c,cacheInfo:m,solverCode:p}}const i=t?` (overwritten: ${t})`:"";return`Processed file ${o} with ${e.length} waypoints${i}.`}async function Dt(l){let o="";rt(o),D("editButton",!0),D("saveButton",!0),j.isOpen()&&j.close(),V.isOpen()&&V.close();const r=Date.now(),h=l.dataTransfer,d=h?h.files:l.target.files,t=h?null:l.target;if(!d||d.length===0)return;lt(F),lt(J),Bt(),et(""),t&&(t.style.color="");for(const n of d)try{if(n.type==="application/x-zip-compressed"||n.type==="application/zip"){const s=await n.arrayBuffer(),a=mt(new Uint8Array(s),n.name);o+=a.map(u=>`<span>${u}</span><br>
`).join("")}else{let s=n.name,a=await n.text();if(n.type==="text/javascript"||n.type==="application/x-javascript"){const u=/GPXmap\.addItem\("([^"]+)", `\s*([^`]*)`\)/.exec(a);if(u){const c=u[1];a=u[2],Gt(c,a)}else throw new Error("onFileInputChange: GPXmap.addItem not found in JS file "+s)}else if(s.endsWith(".b64")&&(a=atob(a),s=s.slice(0,-4)),s.endsWith(".zip")){const u=new Uint8Array(a.split("").map(f=>f.charCodeAt(0))),c=mt(u,s);o+=c.map(f=>`<span>${f}</span><br>
`).join("")}else{const u=zt(a,s);o+=`<span>${u}</span><br>
`}}}catch(s){const a=s instanceof Error?s.message:String(s);console.error(a),o+=`<span style="color: red">${a}</span><br>
`,t&&(t.style.color="red")}rt(Tt()+o);const e=document.getElementById("waypointSearch");et(e.value);const i=Date.now();console.log(`Processed in ${i-r} ms`)}function he(){if(!R){console.error("No marker selected.");return}const l=R.waypointName,o=it(l),r=document.getElementById("waypointInfo");r.innerText=o||"",r.setAttribute("contenteditable","true"),D("editButton",!0),D("saveButton",!1),D("cancelButton",!1)}function de(){if(!R){console.error("No marker selected.");return}const l=document.getElementById("waypointInfo");l.setAttribute("contenteditable","false");const o=l.innerText.trim(),r=R.waypointName,h=F[r];h&&(o?(h.solverCodeEdited=o,ne(r,h)):(delete h.solverCodeEdited,oe(r))),gt(R),D("editButton",!1),D("cancelButton",!0)}function pe(){if(!R){console.error("No marker selected.");return}document.getElementById("waypointInfo").setAttribute("contenteditable","false"),gt(R),D("editButton",!1),D("cancelButton",!0)}function ge(l){l.stopPropagation(),l.preventDefault(),l.dataTransfer!==null&&(l.dataTransfer.dropEffect="copy")}function Ft(l){return l._source}function me(l){const o=l.target;et(o.value),xt(()=>{ct("search",o.value)},1500)}function _e(){const l=document.getElementById("waypointSearch");l.value="",l.dispatchEvent(new Event("input"))}function ye(l){const o=l.target;ct("keepView",o.checked)}function ve(l){const r=l.target.getAttribute("data-name");if(r){const h=document.getElementById("waypointSearch");h.value=r,h.dispatchEvent(new Event("input"))}}function be(l){const o=l.propagatedFrom,r=F[o.waypointName],h=pt(it(r.name)),d=ot(r,h);l.popup.setContent(d);const t=document.getElementById("popupSetFilter");t&&t.addEventListener("click",ve)}function Ut(){if(j.isOpen()){const l=Ft(j),o=F[l.waypointName],r=pt(it(o.name)),h=ot(o,r);j.setContent(h)}else if(V.isOpen()){const l=Ft(V),o=J[l.waypointName],r=ot(o,"");V.setContent(r)}}function we(l){const o=l.coords.latitude,r=l.coords.longitude,h=q.getLatLng(),d=h.lat===0&&h.lng===0,t=nt(o,r);if(q.setLatLng([o,r]),q.getPopup()?.setContent(`<small>${t}<br>You are here!</small>`),d){if(!document.getElementById("keepViewInput").checked){const n=A.getZoom()>12?A.getZoom():12;A.setView([o,r],n)}q.addTo(A)}Ut()}function Le(l){const o={[GeolocationPositionError.PERMISSION_DENIED]:"PERMISSION_DENIED",[GeolocationPositionError.POSITION_UNAVAILABLE]:"POSITION_UNAVAILABLE",[GeolocationPositionError.TIMEOUT]:"TIMEOUT"},r=l.code in o?o[l.code]:"",h=`locationHandleError: ${l.code} ${r} - ${l.message}`;console.error(h),rt(`<span style="color: red;">${h}</span><br>`+Tt())}let _t;const q=N.marker([0,0],{icon:ht("Location")}),Ce=N.popup();function xe(l){const o=l.target;if(ct("showLocation",o.checked),!("geolocation"in navigator)){console.warn("Geolocation is not supported by this browser.");return}o.checked?_t=navigator.geolocation.watchPosition(r=>we(r),Le,{enableHighAccuracy:!0,timeout:1e4}):(navigator.geolocation.clearWatch(_t),_t=0,q.remove(),q.setLatLng([0,0]),Ut())}function Gt(l,o){o=o.replace(/^\n/,"").replace(/\n$/,""),l||(console.warn("addItem: no key!"),l="unknown");const r=document.getElementById("fileInput"),h=l.endsWith(".zip")?"application/zip":"text/plain",d=new File([o],l,{type:h,lastModified:Date.now()}),t=new DataTransfer;t.items.add(d),r.files=t.files,r.dispatchEvent(new Event("change"))}async function Me(l){return new Promise((o,r)=>{const h=function(d){const t=d.type,e=d.currentTarget,i=e.getAttribute("data-key");e.removeEventListener("load",h,!1),e.removeEventListener("error",h,!1),t==="load"?o(i):r(new Error(`Loading failed for ${i}`))};l.addEventListener("load",h,!1),l.addEventListener("error",h,!1),document.getElementsByTagName("head")[0].appendChild(l)})}async function ke(l,o){const r=document.createElement("script");return r.type="text/javascript",r.async=!0,r.src=l,r.setAttribute("data-key",o),Me(r)}function Rt(l){let o="";try{o=decodeURIComponent(l.replace(/\+/g," "))}catch(r){r instanceof Error&&(r.message+=": "+l),console.error(r)}return o}function Se(l){const o=window.location.search.substring(1),r=/([^&=]+)=?([^&]*)/g,h=[];let d;for(;(d=r.exec(o))!==null;){const t=Rt(d[1]),e=Rt(d[2]);e!==null&&l[t]!==void 0&&h.push(t+"="+e)}return h}function Ee(l,o){for(const r of l){const[h,...d]=r.split("="),t=typeof o[h];let e=d.join("=");e!==void 0&&(t==="boolean"?e=e==="true":t==="number"&&(e=Number(e)),o[h]=e)}return o}function Ie(){const l=document.getElementById("waypointInfo"),o={error:"red",warn:"orange",log:"gray",debug:"blue"};["error","warn","log","debug"].forEach(r=>{const h=console[r];console[r]=(...d)=>{h(...d),l.innerHTML+=`<span style="color:${o[r]}">${d.join(" ")}</span><br>`}}),console.log("console messages will be redirected.")}function Pe(){const l=Se(z);Ee(l,z),z.debug>=10&&Ie(),A.setView([0,0],2),N.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(A),H.on("click",ue),H.bindPopup(j).on("popupopen",be),U.on("click",fe),U.bindPopup(V);const o=document.getElementById("fileInput");o.addEventListener("change",a=>void Dt(a));const r=document.getElementById("map");r.addEventListener("dragover",ge,!1),r.addEventListener("drop",a=>{a.stopPropagation(),a.preventDefault(),Dt(a),o.style.color="lightgrey"},!1);const h=document.getElementById("waypointSearch");h.addEventListener("input",$t(a=>{me(a)},400)),document.getElementById("waypointSearchClear").addEventListener("click",_e),document.getElementById("keepViewInput").addEventListener("change",ye),document.getElementById("showLocationInput").addEventListener("change",xe),q.bindPopup(Ce),window.GPXmap={addItem:(a,u)=>{Gt(a,u)}},document.getElementById("editButton").addEventListener("click",he),document.getElementById("saveButton").addEventListener("click",de),document.getElementById("cancelButton").addEventListener("click",pe),K.addTo(A),Mt("keepViewInput",z.keepView),Mt("showLocationInput",z.showLocation),xt(()=>{if(h.value!==z.search&&(h.value=z.search,h.dispatchEvent(new Event("input"))),z.file){const a=z.file,u=z.file;ke(a,u).catch(c=>{console.error(c)})}else ie(),et(h.value)},10)}window.onload=()=>{Pe()}})(L);
//# sourceMappingURL=index.js.map
